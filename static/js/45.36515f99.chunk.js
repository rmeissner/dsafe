(this.webpackJsonpdsafe=this.webpackJsonpdsafe||[]).push([[45],{1844:function(e,t,n){"use strict";n.r(t),function(e){var r=n(306),c=n(1845),o=n.n(c),i=n(247),a=n(51),u=n(59),s=n(1846),l=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),f=function(e,t,n,r){return new(n||(n=Promise))((function(c,o){function i(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?c(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}u((r=r.apply(e,t||[])).next())}))},d=function(e,t){var n,r,c,o,i={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(c=2&o[0]?r.return:o[0]?r.throw||((c=r.return)&&c.call(r),0):r.next)&&!(c=c.call(r,o[1])).done)return c;switch(r=0,c&&(o=[2&o[0],c.value]),o[0]){case 0:case 1:c=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(c=(c=i.trys).length>0&&c[c.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!c||o[1]>c[0]&&o[1]<c[3])){i.label=o[1];break}if(6===o[0]&&i.label<c[1]){i.label=c[1],c=o;break}if(c&&i.label<c[2]){i.label=c[2],i.ops.push(o);break}c[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(a){o=[6,a],r=0}finally{n=c=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},h=function(t){function n(e,n){var r=t.call(this)||this;return r.channel=Math.floor(65535*Math.random()),r.packetSize=64,r._disconnectEmitted=!1,r._emitDisconnect=function(e){r._disconnectEmitted||(r._disconnectEmitted=!0,r.emit("disconnect",e))},r.device=e,r.interfaceNumber=n,r.deviceModel=Object(i.c)(e.productId),r}return l(n,t),n.request=function(){return f(this,void 0,void 0,(function(){var e;return d(this,(function(t){switch(t.label){case 0:return[4,Object(s.d)()];case 1:return e=t.sent(),[2,n.open(e)]}}))}))},n.openConnected=function(){return f(this,void 0,void 0,(function(){var e;return d(this,(function(t){switch(t.label){case 0:return[4,Object(s.b)()];case 1:return 0===(e=t.sent()).length?[2,null]:[2,n.open(e[0])]}}))}))},n.open=function(e){return f(this,void 0,void 0,(function(){var t,r,c,o,i;return d(this,(function(a){switch(a.label){case 0:return[4,e.open()];case 1:return a.sent(),null!==e.configuration?[3,3]:[4,e.selectConfiguration(1)];case 2:a.sent(),a.label=3;case 3:return[4,v(e)];case 4:if(a.sent(),t=e.configurations[0].interfaces.find((function(e){return e.alternates.some((function(e){return 255===e.interfaceClass}))})),!t)throw new u.TransportInterfaceNotAvailable("No WebUSB interface found for your Ledger device. Please upgrade firmware or contact techsupport.");r=t.interfaceNumber,a.label=5;case 5:return a.trys.push([5,7,,9]),[4,e.claimInterface(r)];case 6:return a.sent(),[3,9];case 7:return c=a.sent(),[4,e.close()];case 8:throw a.sent(),new u.TransportInterfaceNotAvailable(c.message);case 9:return o=new n(e,r),i=function(t){e===t.device&&(navigator.usb.removeEventListener("disconnect",i),o._emitDisconnect(new u.DisconnectedDevice))},navigator.usb.addEventListener("disconnect",i),[2,o]}}))}))},n.prototype.close=function(){return f(this,void 0,void 0,(function(){return d(this,(function(e){switch(e.label){case 0:return[4,this.exchangeBusyPromise];case 1:return e.sent(),[4,this.device.releaseInterface(this.interfaceNumber)];case 2:return e.sent(),[4,v(this.device)];case 3:return e.sent(),[4,this.device.close()];case 4:return e.sent(),[2]}}))}))},n.prototype.exchange=function(t){return f(this,void 0,void 0,(function(){var n=this;return d(this,(function(r){switch(r.label){case 0:return[4,this.exchangeAtomicImpl((function(){return f(n,void 0,void 0,(function(){var n,r,c,i,u,s,l,f,h,v;return d(this,(function(d){switch(d.label){case 0:r=(n=this).channel,c=n.packetSize,Object(a.log)("apdu","=> "+t.toString("hex")),i=o()(r,c),u=i.makeBlocks(t),s=0,d.label=1;case 1:return s<u.length?[4,this.device.transferOut(3,u[s])]:[3,4];case 2:d.sent(),d.label=3;case 3:return s++,[3,1];case 4:return(l=i.getReducedResult(f))?[3,6]:[4,this.device.transferIn(3,c)];case 5:return h=d.sent(),v=e.from(h.data.buffer),f=i.reduceResponse(f,v),[3,4];case 6:return Object(a.log)("apdu","<= "+l.toString("hex")),[2,l]}}))}))})).catch((function(e){if(e&&e.message&&e.message.includes("disconnected"))throw n._emitDisconnect(e),new u.DisconnectedDeviceDuringOperation(e.message);throw e}))];case 1:return[2,r.sent()]}}))}))},n.prototype.setScrambleKey=function(){},n.isSupported=s.c,n.list=s.b,n.listen=function(e){var t=!1;return Object(s.a)().then((function(n){if(!t){var r=Object(i.c)(n.productId);e.next({type:"add",descriptor:n,deviceModel:r}),e.complete()}}),(function(t){window.DOMException&&t instanceof window.DOMException&&18===t.code?e.error(new u.TransportWebUSBGestureRequired(t.message)):e.error(new u.TransportOpenUserCancelled(t.message))})),{unsubscribe:function(){t=!0}}},n}(r.a);function v(e){return f(this,void 0,void 0,(function(){var t;return d(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,e.reset()];case 1:return n.sent(),[3,3];case 2:return t=n.sent(),console.warn(t),[3,3];case 3:return[2]}}))}))}t.default=h}.call(this,n(138).Buffer)},1845:function(e,t,n){"use strict";(function(e){t.__esModule=!0;var r=n(59);function c(t){var n=e.alloc(2);return n.writeUInt16BE(t,0),n}var o={data:e.alloc(0),dataLength:0,sequence:0};t.default=function(t,n){return{makeBlocks:function(r){var o=e.concat([c(r.length),r]),i=n-5,a=Math.ceil(o.length/i);o=e.concat([o,e.alloc(a*i-o.length+1).fill(0)]);for(var u=[],s=0;s<a;s++){var l=e.alloc(5);l.writeUInt16BE(t,0),l.writeUInt8(5,2),l.writeUInt16BE(s,3);var f=o.slice(s*i,(s+1)*i);u.push(e.concat([l,f]))}return u},reduceResponse:function(n,c){var i=n||o,a=i.data,u=i.dataLength,s=i.sequence;if(c.readUInt16BE(0)!==t)throw new r.TransportError("Invalid channel","InvalidChannel");if(5!==c.readUInt8(2))throw new r.TransportError("Invalid tag","InvalidTag");if(c.readUInt16BE(3)!==s)throw new r.TransportError("Invalid sequence","InvalidSequence");n||(u=c.readUInt16BE(5)),s++;var l=c.slice(n?5:7);return(a=e.concat([a,l])).length>u&&(a=a.slice(0,u)),{data:a,dataLength:u,sequence:s}},getReducedResult:function(e){if(e&&e.dataLength===e.data.length)return e.data}}}}).call(this,n(138).Buffer)},1846:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return l}));var r=n(247),c=function(e,t,n,r){return new(n||(n=Promise))((function(c,o){function i(e){try{u(r.next(e))}catch(t){o(t)}}function a(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?c(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,a)}u((r=r.apply(e,t||[])).next())}))},o=function(e,t){var n,r,c,o,i={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(c=2&o[0]?r.return:o[0]?r.throw||((c=r.return)&&c.call(r),0):r.next)&&!(c=c.call(r,o[1])).done)return c;switch(r=0,c&&(o=[2&o[0],c.value]),o[0]){case 0:case 1:c=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!(c=(c=i.trys).length>0&&c[c.length-1])&&(6===o[0]||2===o[0])){i=0;continue}if(3===o[0]&&(!c||o[1]>c[0]&&o[1]<c[3])){i.label=o[1];break}if(6===o[0]&&i.label<c[1]){i.label=c[1],c=o;break}if(c&&i.label<c[2]){i.label=c[2],i.ops.push(o);break}c[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(a){o=[6,a],r=0}finally{n=c=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},i=[{vendorId:r.d}];function a(){return c(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,navigator.usb.requestDevice({filters:i})];case 1:return[2,e.sent()]}}))}))}function u(){return c(this,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return[4,navigator.usb.getDevices()];case 1:return[2,e.sent().filter((function(e){return e.vendorId===r.d}))]}}))}))}function s(){return c(this,void 0,void 0,(function(){var e;return o(this,(function(t){switch(t.label){case 0:return[4,u()];case 1:return(e=t.sent()).length>0?[2,e[0]]:[2,a()]}}))}))}var l=function(){return Promise.resolve(!!navigator&&!!navigator.usb&&"function"===typeof navigator.usb.getDevices)}}}]);
//# sourceMappingURL=45.36515f99.chunk.js.map